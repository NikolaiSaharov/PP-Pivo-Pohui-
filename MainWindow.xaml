<Window x:Class="CHOTOPOHOZEENASPOTIK.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:FirstTask"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Title="Music Streaming"
        Height="1080" Width="1920"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Black"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>

        <!-- Конвертер для высоты активной части слайдера -->
        <local:SliderValueToHeightConverter x:Key="HeightConverter"/>
        <!-- Стиль для кнопки -->
        <Style x:Key="RoundedButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#171717"/>
            <Setter Property="Foreground" Value="Gray"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                        CornerRadius="15"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CustomVerticalSliderStyle" TargetType="Slider">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Width" Value="38"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Slider">
                        <Grid>
                            <!-- Серый фон слайдера (теперь видимый) -->
                            <Rectangle Fill="#FF424242" 
                               Width="38" 
                               Height="147" 
                               RadiusX="20" 
                               RadiusY="20"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Bottom"/>

                            <!-- Активная часть (белая полоска) -->
                            <Rectangle x:Name="ActivePart" 
                               Fill="{TemplateBinding Foreground}" 
                               Width="38" 
                               RadiusX="20" 
                               RadiusY="20"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Bottom">
                                <Rectangle.Height>
                                    <Binding Path="Value" 
                                     RelativeSource="{RelativeSource TemplatedParent}" 
                                     Converter="{StaticResource HeightConverter}"/>
                                </Rectangle.Height>
                            </Rectangle>

                            <!-- Невидимый Thumb для обработки кликов -->
                            <Track x:Name="PART_Track" VerticalAlignment="Stretch">
                                <Track.Thumb>
                                    <Thumb Width="38" Height="38" Opacity="0"/>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- Основная структура -->
        <Grid Panel.ZIndex="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="60"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="60"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="100"/>
            </Grid.RowDefinitions>

            <!-- Верхняя панель -->
            <Grid Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="0" Background="Black">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Кнопки навигации -->
                <!-- Кнопка в кружке слева -->
                <Border Width="30" Height="30" Background="#121212" CornerRadius="15" Margin="70,0,20,0">
                    <Button Style="{StaticResource MaterialDesignFlatButton}"
            Width="32" Height="32"
            Padding="0" Background="Transparent"
            Click="NavigateBackButton_Click">
                        <Image Source="pack://application:,,,/Images/vector left.png"
               Width="10" Height="21" Margin="-5,5,0,5"/>
                    </Button>
                </Border>

                <!-- Кнопка в кружке справа -->
                <Border Width="30" Height="30" Background="#121212" CornerRadius="15" Margin="120,0,0,0">
                    <Button Style="{StaticResource MaterialDesignFlatButton}"
            Width="32" Height="32"
            Padding="0" Background="Transparent"
            Click="NavigateForwardButton_Click">
                        <Image Source="pack://application:,,,/Images/vector right.png"
               Width="10" Height="21" Margin="0,5,0,5"/>
                    </Button>
                </Border>



                <!-- Иконка облака и текст -->
                <StackPanel Grid.Column="2" Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center" Margin="700,0,0,0">
                    <Image Source="pack://application:,,,/Images/logo.jpg"
                           Height="33" Width="30"/>
                    <TextBox materialDesign:HintAssist.Hint="Что будем слушать?"
                             Margin="8,0,0,0"
                             VerticalAlignment="Center"
                             Foreground="White"
                             FontSize="16"
                             Background="Transparent"
                             BorderThickness="0"
                             CaretBrush="White"
                             materialDesign:TextFieldAssist.UnderlineBrush="Transparent"
                             Style="{StaticResource MaterialDesignTextBox}"
                             Width="164" Height="36"/>

                </StackPanel>


                <!-- Правые элементы -->
                <StackPanel Grid.Column="3" Orientation="Horizontal"
                            HorizontalAlignment="Right" Margin="0,0,20,0">
                    <!-- Кнопка уведомлений в кружке -->
                    <Border Width="56" Height="56" Background="#121212" CornerRadius="30" Margin="0,0,370,0">
                        <Button Style="{StaticResource MaterialDesignFlatButton}"
            Width="18" Height="21"
            Padding="0" Background="Transparent" BorderBrush="Transparent">
                            <Image Source="pack://application:,,,/Images/colocolsik.jpg"
               Width="18" Height="21"/>
                        </Button>
                    </Border>
                    <Button Style="{StaticResource MaterialDesignFlatButton}"
        Content="Вступить в Community"
        Foreground="White"
        Background="#121212"
        Height="35" Width="242" Padding="16,0" Cursor="Hand"
        FontSize="14" FontFamily="SF Pro Display" FontWeight="Bold" Margin="0,0,50,0">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border CornerRadius="18" Padding="10">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#121212" Offset="0.0"/>
                                            <GradientStop Color="#121212" Offset="0.85"/>
                                            <GradientStop Color="#1E3A8A" Offset="1.0"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                        <Button.Effect>
                            <DropShadowEffect Color="#1E3A8A" BlurRadius="20" Opacity="0.15" ShadowDepth="0" Direction="270"/>
                        </Button.Effect>
                    </Button>

                    <!-- Новые кнопки -->
                    <Border Width="30" Height="30" Background="#171717" CornerRadius="15" Margin="0,0,10,0">
                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                Width="16" Height="16"
                Padding="0" 
                Click="MinimizeButton_Click">
                            <Image Source="pack://application:,,,/Images/minimize.jpg"
                   Width="16" Height="16"/>
                        </Button>
                    </Border>

                    <Border Width="30" Height="30" Background="#171717" CornerRadius="15" Margin="0,0,10,0">
                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                Width="16" Height="16"
                Padding="0" 
                Click="MaximizeButton_Click">
                            <Image Source="pack://application:,,,/Images/maximize.jpg"
                   Width="16" Height="16"/>
                        </Button>
                    </Border>

                    <Border Width="30" Height="30" Background="#171717" CornerRadius="15" Margin="0,0,0,0">
                        <Button Style="{StaticResource MaterialDesignFlatButton}"
                Width="16" Height="16"
                Padding="0" 
                Click="CloseButton_Click">
                            <Image Source="pack://application:,,,/Images/close.jpg"
                   Width="16" Height="16" />
                        </Button>
                    </Border>



                </StackPanel>

                <!-- Профиль с выпадающим меню -->

            </Grid>

            <!-- Левая панель навигации -->

            <materialDesign:PopupBox
    PlacementMode="BottomAndAlignRightEdges"
    Margin="10,56,0,866"
    StaysOpen="False" 
    Width="50"  
    BorderBrush="Transparent" 
    Background="#090909" 
    Padding="0" 
    PopupUniformCornerRadius="15" Grid.RowSpan="2">

                <materialDesign:PopupBox.ToggleContent>
                    <Border Width="48" Height="48"
                CornerRadius="24"
                Background="#090909"
                ClipToBounds="True">
                        <Border Width="38" Height="38"
                    CornerRadius="19"
                    ClipToBounds="True">
                            <Border.Background>
                                <ImageBrush ImageSource="pack://application:,,,/FirstTask;component/Images/placeholder.jpg"/>
                            </Border.Background>
                        </Border>
                    </Border>
                </materialDesign:PopupBox.ToggleContent>

                <Border Background="#090909" CornerRadius="7" Padding="0,5,5,5" Margin="0" Width="170">
                    <StackPanel Background="#090909" MinHeight="50">
                        <Button Content="Профиль"
                    Foreground="White"
                    Background="Transparent"
                    HorizontalContentAlignment="Stretch"
                    Margin="0"
                                Click="ProfileButton_Click">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignFlatButton}">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Grid Background="Transparent">
                                                    <Border x:Name="background" 
                                                Background="Transparent" 
                                                CornerRadius="4"
                                                Margin="5,2,5,2">
                                                        <ContentPresenter HorizontalAlignment="Left"
                                                              VerticalAlignment="Center"
                                                              Margin="8,6,8,6"/>
                                                    </Border>
                                                </Grid>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="background" Property="Background" Value="#171717"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Left"
                                    Background="Transparent">
                                        <materialDesign:PackIcon Kind="Account"
                                        Margin="5,0,8,0"
                                        Foreground="White"/>
                                        <TextBlock Text="{Binding}" Foreground="White"/>
                                    </StackPanel>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>

                        <Button Content="Настройки"
                    Foreground="White"
                    Background="Transparent"
                    HorizontalContentAlignment="Stretch"
                    Margin="0">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignFlatButton}">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Grid Background="Transparent">
                                                    <Border x:Name="background" 
                                                Background="Transparent" 
                                                CornerRadius="4"
                                                Margin="5,2,5,2">
                                                        <ContentPresenter HorizontalAlignment="Left"
                                                              VerticalAlignment="Center"
                                                              Margin="8,6,8,6"/>
                                                    </Border>
                                                </Grid>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="background" Property="Background" Value="#171717"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Left"
                                    Background="Transparent">
                                        <materialDesign:PackIcon Kind="Settings"
                                        Margin="5,0,8,0"
                                        Foreground="White"/>
                                        <TextBlock Text="{Binding}" Foreground="White"/>
                                    </StackPanel>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>
                    </StackPanel>
                </Border>
            </materialDesign:PopupBox>


            <!-- Первый Border с первыми тремя кнопками -->
            <Border x:Name="LeftPanelTop" Grid.Column="0" Grid.Row="1"
            Background="#121212" CornerRadius="25" Margin="10,59,0,675">
                <StackPanel>
                    <Button x:Name="PlanetButton" Style="{StaticResource MaterialDesignFlatButton}"
                    Margin="5,21,5,5" Height="31" Width="31"
                    Padding="0" Click="PlanetButton_Click">
                        <Image Source="pack://application:,,,/Images/planeta.jpg"
                       Height="27" Width="27" />
                    </Button>
                    <Button x:Name="SamplesButton" Style="{StaticResource MaterialDesignFlatButton}"
                    Margin="5,20,5,5" Height="40" Width="40"
                    Padding="0" Click="SamplesButton_Click">
                        <Image Source="pack://application:,,,/Images/choto.jpg"
                       Height="24" Width="24"/>
                    </Button>
                    <Button x:Name="PersonButton" Style="{StaticResource MaterialDesignFlatButton}"
                    Margin="5,20,5,5" Height="40" Width="40"
                    Padding="0" Click="PersonButton_Click">
                        <Image Source="pack://application:,,,/Images/avarar.jpg"
                       Height="32" Width="24"/>
                    </Button>
                </StackPanel>
            </Border>

            <!-- Второй Border с оставшимися кнопками -->
            <Border x:Name="LeftPanelBottom" Grid.Column="0" Grid.Row="1"
            Background="#121212" CornerRadius="25" Margin="10,262,0,0">
                <StackPanel Margin="0,-10,0,10">
                    <Button x:Name="PlaylistButton" Style="{StaticResource MaterialDesignFlatButton}"
                    Margin="5,21,5,5" Height="25" Width="25"
                    Padding="0" Click="PlaylistButton_Click">
                        <Image Source="pack://application:,,,/Images/prikol.jpg"
                       Height="24" Width="24"/>
                    </Button>
                    <Button Style="{StaticResource MaterialDesignFlatButton}"
                    Margin="5,30,5,5" Height="43" Width="43"
                    Padding="0">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#FFFF69B4" Offset="0"/>
                                <GradientStop Color="#FF87CEEB" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                        <materialDesign:PackIcon Kind="Heart"
                                         Height="20" Width="20"
                                         Foreground="White"/>
                    </Button>
                    <Button Style="{StaticResource MaterialDesignFlatButton}"
                    Margin="5,20,5,5" Height="43" Width="43"
                    Padding="0">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#FF4169E1" Offset="0"/>
                                <GradientStop Color="#FF00CED1" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                        <materialDesign:PackIcon Kind="Clock"
                                         Height="20" Width="20"
                                         Foreground="White"/>
                    </Button>
                    <Button Style="{StaticResource MaterialDesignFlatButton}"
                    Margin="5,20,5,5" Height="43" Width="43"
                    Padding="0">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#FF9400D3" Offset="0"/>
                                <GradientStop Color="#FF4B0082" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                        <Image Source="pack://application:,,,/Images/logo.jpg"
                       Height="24" Width="24"/>
                    </Button>
                </StackPanel>
            </Border>

            <!-- Информационная панель и правая панель -->
            <Grid Grid.Column="2" Grid.Row="1" Panel.ZIndex="999" Margin="10,0,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="361*"/>
                    <RowDefinition Height="559*"/>
                </Grid.RowDefinitions>

                <!-- Правая панель -->
                <Border x:Name="RightPanel"
        Width="300"
        HorizontalAlignment="Right"
        Background="#171717"
        Panel.ZIndex="1000"
        Grid.RowSpan="2"
        Visibility="Collapsed"
        CornerRadius="30">
                    <TextBlock Text="Правая панель"
               Foreground="White"
               VerticalAlignment="Center"
               HorizontalAlignment="Center"/>
                </Border>



                <!-- Информационная панель -->
                <Border x:Name="InfoPanel" 
                        HorizontalAlignment="Left"
                        Width="363"
                        Background="#121212"
                        Panel.ZIndex="998" 
                        Grid.RowSpan="2" Margin="-338,0,0,0" RenderTransformOrigin="0.5,0.5" 
                        Visibility="Collapsed" CornerRadius="20">
                    <Border.RenderTransform>
                        <TranslateTransform x:Name="InfoPanelTransform" X="363"/>
                    </Border.RenderTransform>

                    <Border.Effect>
                        <DropShadowEffect BlurRadius="15" 
                                          Direction="-90" 
                                          ShadowDepth="5" 
                                          Opacity="0.3"/>
                    </Border.Effect>
                    <Grid>
                        <StackPanel Margin="20">
                            <TextBlock Text="Информация о треке"
                                       Foreground="White"
                                       FontSize="24"
                                       FontWeight="Bold"
                                       Margin="0,0,0,20"/>
                            <StackPanel Margin="0,0,0,15">
                                <TextBlock Text="Название:"
                                           Foreground="#121212"
                                           FontSize="16"
                                           Margin="0,0,0,5"/>
                                <TextBlock Text="Sample Track"
                                           Foreground="White"
                                           FontSize="18"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                            <StackPanel Margin="0,0,0,15">
                                <TextBlock Text="Исполнитель:"
                                           Foreground="#121212"
                                           FontSize="16"
                                           Margin="0,0,0,5"/>
                                <TextBlock Text="Sample Artist"
                                           Foreground="White"
                                           FontSize="18"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                            <StackPanel Margin="0,0,0,15">
                                <TextBlock Text="Альбом:"
                                           Foreground="#121212"
                                           FontSize="16"
                                           Margin="0,0,0,5"/>
                                <TextBlock Text="Sample Album"
                                           Foreground="White"
                                           FontSize="18"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                            <StackPanel Margin="0,0,0,15">
                                <TextBlock Text="Длительность:"
                                           Foreground="#121212"
                                           FontSize="16"
                                           Margin="0,0,0,5"/>
                                <TextBlock Text="3:45"
                                           Foreground="White"
                                           FontSize="18"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Кнопка для информационной панели -->
                <Button x:Name="ToggleInfoButton"
        Style="{StaticResource MaterialDesignFlatButton}"
        Height="40" Width="40"
        Padding="0"
        VerticalAlignment="Top"
        HorizontalAlignment="Center"
        Click="ToggleInfoPanel_Click"
        MouseEnter="ToggleInfoButton_MouseEnter"
        MouseLeave="ToggleInfoButton_MouseLeave"
        Panel.ZIndex="1001" Margin="0,79,0,0" Grid.Row="1">
                    <materialDesign:PackIcon Kind="ChevronLeft"
                             Height="24" Width="24"
                             Foreground="White"/>
                </Button>
            </Grid>

            <!-- Нижний плеер -->
            <Grid Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="2" Background="Black" Panel.ZIndex="1000">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Background="Black"/>

                <Border Grid.Column="1" Background="#121212" Height="70" Width="1100" VerticalAlignment="Top" Margin="225,10,225,0" CornerRadius="30">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="250"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="150"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Orientation="Horizontal" Margin="30,0,0,0">
                            <Image Width="50" Height="50"
                   Source="pack://application:,,,/FirstTask;component/Images/placeholder.jpg"
                   Margin="0,0,10,0"/>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="Название" Foreground="White"
                           FontSize="14" FontWeight="Medium"/>
                                <TextBlock Text="Автор" Foreground="#FF808080"
                           FontSize="12" Margin="0,2,0,0"/>
                            </StackPanel>
                            <Button x:Name="addToPlaylistButton" Style="{StaticResource MaterialDesignFlatButton}"
                    Width="32" Height="32" Margin="10,0,0,0"
                    Padding="0">
                                <materialDesign:PackIcon Kind="Plus" Foreground="#FF808080"/>
                            </Button>
                        </StackPanel>

                        <Grid Grid.ColumnSpan="2" Margin="250,0,50,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Orientation="Horizontal"
                        HorizontalAlignment="Center" Margin="0,10,0,5">
                                <Button x:Name="shuffleButton" Style="{StaticResource MaterialDesignFlatButton}"
                        Width="19" Height="17" Margin="5,0"
                        Padding="0">
                                    <Image Source="pack://application:,,,/Images/shuffle.jpg"
                           Width="19" Height="17"/>
                                </Button>
                                <Button Style="{StaticResource MaterialDesignFlatButton}"
                        Width="32" Height="32" Margin="5,0"
                        Padding="0">
                                    <Image Source="pack://application:,,,/Images/arrowleft.jpg"
                           Width="19" Height="28"/>
                                </Button>
                                <Button x:Name="playButton" Style="{StaticResource MaterialDesignFlatButton}"
                        Width="40" Height="40" Margin="5,0"
                        Background="Transparent" BorderBrush="White"
                        Padding="0">
                                    <materialDesign:PackIcon Kind="Play" Foreground="White" Width="40" Height="40"/>
                                    <i:Interaction.Behaviors>
                                        <local:PlayPauseButtonBehavior IsPlaying="{Binding IsAudioPlaying, RelativeSource={RelativeSource AncestorType=Window}, Mode=TwoWay}"/>
                                    </i:Interaction.Behaviors>
                                </Button>
                                <Button Style="{StaticResource MaterialDesignFlatButton}"
                        Width="32" Height="32" Margin="5,0"
                        Padding="0">
                                    <Image Source="pack://application:,,,/Images/arrowrigt.jpg"
                           Width="19" Height="28"/>
                                </Button>
                                <Button x:Name="repeatButton" Style="{StaticResource MaterialDesignFlatButton}"
                        Width="32" Height="32" Margin="5,0"
                        Padding="0">
                                    <Image Source="pack://application:,,,/Images/repeat.jpg"
                           Width="18" Height="18"/>
                                </Button>
                            </StackPanel>

                            <Grid Grid.Row="1" Margin="0,0,0,15">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="1:20" Foreground="#FF808080"
                           VerticalAlignment="Top" Margin="10,-5,10,0"/>
                                <Slider Value="30" Maximum="100"
                        Style="{StaticResource MaterialDesignSlider}"
                        Grid.ColumnSpan="3" Margin="42,-7,42,0"
                        Height="30" VerticalAlignment="Top"
                        ValueChanged="Slider_ValueChanged"/>
                                <TextBlock Grid.Column="2" Text="3:20" Foreground="#FF808080"
                           VerticalAlignment="Top" Margin="10,-5,10,0"/>
                            </Grid>
                        </Grid>

                        <StackPanel Grid.Column="2" Orientation="Horizontal"
                    HorizontalAlignment="Right" VerticalAlignment="Center"
                    Margin="0,0,30,0">
                            <Button Style="{StaticResource MaterialDesignFlatButton}"
                    Width="28" Height="32" Margin="5,0"
                    Padding="0">
                                <Image Source="pack://application:,,,/Images/playlist.jpg"
                       Width="24" Height="20"/>
                            </Button>
                            <Button x:Name="VolumeButton" Width="32" Height="32" Margin="5,0"
                                Padding="0" Background="Transparent" BorderBrush="Transparent"
                                Click="VolumeButton_Click">
                                <Image Source="pack://application:,,,/Images/Low Volume.jpg"
                                   Width="22" Height="20"/>
                            </Button>

                            <!-- Popup с вертикальным слайдером громкости -->
                            <Popup x:Name="VolumePopup" 
       PlacementTarget="{Binding ElementName=VolumeButton}"
       Placement="Top" 
       StaysOpen="False" 
       AllowsTransparency="True"
       PopupAnimation="Slide" 
       VerticalOffset="-35">
                                <Border Width="40" 
            Height="150" 
            Background="Transparent" 
            CornerRadius="20"
            Padding="0">
                                    <Slider x:Name="VolumeSlider" 
                Minimum="0" 
                Maximum="122.5" 
                Value="50"
                Orientation="Vertical" 
                Height="147" 
                Style="{StaticResource CustomVerticalSliderStyle}"
                ValueChanged="VolumeSlider_ValueChanged"/>
                                </Border>
                            </Popup>

                            <Button x:Name="ScreenButton" Style="{StaticResource MaterialDesignFlatButton}"
        Width="32" Height="32" Margin="5,0" Padding="0"
        Click="ScreenButton_Click">
                                <Image Source="pack://application:,,,/Images/akran.jpg" Width="26" Height="20"/>
                                <Button.ContextMenu>
                                    <ContextMenu x:Name="ScreenContextMenu"
                     Background="Transparent"
                     BorderThickness="0"
                     Padding="0"
                     VerticalOffset="-45">
                                        <ContextMenu.Style>
                                            <Style TargetType="ContextMenu">
                                                <Setter Property="OverridesDefaultStyle" Value="True"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ContextMenu">
                                                            <Border Background="Black" CornerRadius="7" Padding="5" Width="220" Height="85">
                                                                <StackPanel Background="Transparent">
                                                                    <!-- Открыть мини-плеер -->
                                                                    <Button Height="36"
                                                Foreground="White"
                                                Background="Transparent"
                                                HorizontalContentAlignment="Stretch"
                                                Margin="0,0,0,5"
                                                Click="MiniPlayerButton_Click">
                                                                        <Button.Template>
                                                                            <ControlTemplate TargetType="Button">
                                                                                <Grid Background="Transparent">
                                                                                    <Border x:Name="background"
                                                                Background="Transparent"
                                                                CornerRadius="4"
                                                                Padding="8,6">
                                                                                        <ContentPresenter HorizontalAlignment="Left"
                                                                              VerticalAlignment="Center"/>
                                                                                    </Border>
                                                                                </Grid>
                                                                                <ControlTemplate.Triggers>
                                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                                        <Setter TargetName="background" Property="Background" Value="#171717"/>
                                                                                    </Trigger>
                                                                                </ControlTemplate.Triggers>
                                                                            </ControlTemplate>
                                                                        </Button.Template>
                                                                        <StackPanel Orientation="Horizontal">
                                                                            <!-- Изменения в Image -->
                                                                            <Image Source="pack://application:,,,/Images/mini.jpg"
                                                       Width="18" Height="18" Margin="0,0,12,0"
                                                       SnapsToDevicePixels="True"
                                                       RenderOptions.BitmapScalingMode="HighQuality"/>
                                                                            <TextBlock Text="Открыть мини-плеер"
                                                           Foreground="White"
                                                           VerticalAlignment="Center"/>
                                                                        </StackPanel>
                                                                    </Button>

                                                                    <!-- Полный экран -->
                                                                    <Button Height="36"
                                                Foreground="White"
                                                Background="Transparent"
                                                HorizontalContentAlignment="Stretch"
                                                Margin="0"
                                                Click="FullScreenButton_Click">
                                                                        <Button.Template>
                                                                            <ControlTemplate TargetType="Button">
                                                                                <Grid Background="Transparent">
                                                                                    <Border x:Name="background"
                                                                Background="Transparent"
                                                                CornerRadius="4"
                                                                Padding="8,6">
                                                                                        <ContentPresenter HorizontalAlignment="Left"
                                                                              VerticalAlignment="Center"/>
                                                                                    </Border>
                                                                                </Grid>
                                                                                <ControlTemplate.Triggers>
                                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                                        <Setter TargetName="background" Property="Background" Value="#171717"/>
                                                                                    </Trigger>
                                                                                </ControlTemplate.Triggers>
                                                                            </ControlTemplate>
                                                                        </Button.Template>
                                                                        <StackPanel Orientation="Horizontal">
                                                                            <!-- Изменения в Image -->
                                                                            <Image Source="pack://application:,,,/Images/max.jpg"
                                                       Width="18" Height="18" Margin="0,0,12,0"
                                                       SnapsToDevicePixels="True"
                                                       RenderOptions.BitmapScalingMode="HighQuality"/>
                                                                            <TextBlock Text="Полный экран"
                                                           Foreground="White"
                                                           VerticalAlignment="Center"/>
                                                                        </StackPanel>
                                                                    </Button>
                                                                </StackPanel>
                                                            </Border>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ContextMenu.Style>
                                    </ContextMenu>
                                </Button.ContextMenu>
                            </Button>


                        </StackPanel>
                    </Grid>
                </Border>


                <Border Grid.Column="2" Background="Black"/>
            </Grid>

            <!-- Frame для контента -->
            <Frame x:Name="PlanetFrame" Margin="10,0,5,5" 
                   Grid.Row="1" Grid.Column="1" 
                   Navigated="PlanetFrame_Navigated" 
                   BorderBrush="Transparent"/>
        </Grid>
    </Grid>
</Window>